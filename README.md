# Sistema de Suporte ao Cliente com IA (MVP)

[![Java](https://img.shields.io/badge/Java-21%2B-orange?logo=openjdk)](https://openjdk.org/)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.x-green?logo=springboot)](https://spring.io/projects/spring-boot)
[![License](https://img.shields.io/badge/License-MIT-blue)](LICENSE)
[![Status](https://img.shields.io/badge/Status-MVP-yellow)](https://chat-ai-cliente.onrender.com/chat.html)

## üìã √çndice
- [Vis√£o Geral](#vis√£o-geral)
- [Funcionalidades](#funcionalidades)
- [Tecnologias Utilizadas](#tecnologias-utilizadas)
- [Arquitetura do Projeto](#arquitetura-do-projeto)
- [Como Executar](#como-executar)
- [Configura√ß√£o](#configura√ß√£o)
- [API Reference](#api-reference)
- [Testes](#testes)
- [Base de Conhecimento](#base-de-conhecimento)
- [Deploy](#deploy)
- [Estrutura do Projeto](#estrutura-do-projeto)
- [Contribui√ß√£o](#contribui√ß√£o)
- [Pr√≥ximos Passos](#pr√≥ximos-passos)
- [Avisos Importantes](#avisos-importantes)

## üéØ Vis√£o Geral

Este √© um **MVP (Produto M√≠nimo Vi√°vel)** para um sistema de suporte ao cliente baseado em **Intelig√™ncia Artificial**. O sistema fornece respostas automatizadas a perguntas frequentes atrav√©s da integra√ß√£o com uma base de conhecimento est√°tica (FAQs, manuais, pol√≠ticas) utilizando a t√©cnica **RAG (Retrieval-Augmented Generation)** para gerar respostas contextualizadas e precisas.

**Demo Online**: [https://chat-ai-cliente.onrender.com/chat.html](https://chat-ai-cliente.onrender.com/chat.html)

## ‚úÖ Funcionalidades

| M√≥dulo | Funcionalidade | Status | Descri√ß√£o |
|--------|----------------|---------|-----------|
| **API** | RESTful Endpoints | ‚úÖ | Endpoints para receber perguntas e retornar respostas |
| **Banco de Dados** | Armazenamento de Intera√ß√µes | ‚úÖ | Registro de todas as perguntas e respostas em H2 |
| **IA** | RAG com IA Real | ‚úÖ | Busca sem√¢ntica + gera√ß√£o via OpenRouter |
| **Frontend** | Widget de Chat | ‚úÖ | Interface web para intera√ß√£o com usu√°rios |
| **Testes** | Unit√°rios | ‚úÖ | Cobertura completa das camadas principais |
| **Testes** | Integra√ß√£o | ‚úÖ | Valida√ß√£o de endpoints e persist√™ncia |
| **Testes** | E2E | ‚úÖ | Simula√ß√£o de requisi√ß√µes HTTP reais |

## üõ†Ô∏è Tecnologias Utilizadas

### Backend
- **Java 21+** - Linguagem de programa√ß√£o principal
- **Spring Boot 3.x** - Framework para desenvolvimento r√°pido
- **Spring Data JPA** - Camada de persist√™ncia de dados
- **Spring Web MVC** - Constru√ß√£o de API REST

### Banco de Dados
- **H2 Database** - Banco de dados em mem√≥ria para desenvolvimento e testes

### Testes e Qualidade
- **JUnit 5** - Framework para testes unit√°rios e de integra√ß√£o
- **Mockito** - Biblioteca para mocking em testes
- **Spring Boot Test** - Suporte a testes de integra√ß√£o Spring
- **TestRestTemplate** - Cliente HTTP para testes de endpoints

### Intelig√™ncia Artificial
- **OpenRouter API** - Gateway para m√∫ltiplos modelos de IA
- **RAG (Retrieval-Augmented Generation)** - T√©cnica para busca sem√¢ntica e gera√ß√£o contextualizada

### Build e Deploy
- **Maven** - Gerenciamento de depend√™ncias e automa√ß√£o de build
- **Render** - Plataforma de deploy em nuvem

## üèóÔ∏è Arquitetura do Projeto

### Padr√£o Arquitetural
O sistema segue o padr√£o MVC (Model-View-Controller) com as seguintes camadas:

- **Controller**: Camada de apresenta√ß√£o (API REST)
- **Service**: L√≥gica de neg√≥cio e orquestra√ß√£o
- **Repository**: Acesso a dados e persist√™ncia
- **Model**: Entidades de dom√≠nio
- **AI Service**: Integra√ß√£o com servi√ßos de IA externos

### Diagrama de Fluxo de Dados





## üöÄ Como Executar

### Pr√©-requisitos M√≠nimos
- **Java 21** ou superior instalado
- **Maven 3.6** ou superior
- **Chave de API** da OpenRouter (obtenha em [OpenRouter](https://openrouter.ai/))
- **Git** para clonagem do reposit√≥rio

### Configura√ß√£o R√°pida

#### 1. Configura√ß√£o de Ambiente (Recomendado)

# Vari√°veis de ambiente
export OPENROUTER_API_KEY="sua_chave_aqui"
export OPENROUTER_MODEL="openai/gpt-3.5-turbo"

# Ou para Windows (PowerShell)
$env:OPENROUTER_API_KEY="sua_chave_aqui"
$env:OPENROUTER_MODEL="openai/gpt-3.5-turbo"


Configura√ß√£o via Arquivo
Edite src/main/resources/application.properties:
# Configura√ß√µes da OpenRouter
openrouter.api.key=sua_chave_aqui
openrouter.model=openai/gpt-3.5-turbo

# Configura√ß√µes do Spring Boot
server.port=8080
spring.datasource.url=jdbc:h2:mem:testdb
spring.h2.console.enabled=true

Execu√ß√£o Passo a Passo

git clone <url-do-repositorio>
cd <nome-do-projeto>

Compila√ß√£o e Execu√ß√£o

# Op√ß√£o 1: Execu√ß√£o direta com Maven Wrapper
./mvnw spring-boot:run

# Op√ß√£o 2: Build e execu√ß√£o separada
./mvnw clean install
java -jar target/atendimento-ai-mvp-1.0.0.jar

# Op√ß√£o 3: Execu√ß√£o com perfil de desenvolvimento
./mvnw spring-boot:run -Dspring-boot.run.profiles=dev


Verifica√ß√£o
Ap√≥s iniciar, acesse:

Aplica√ß√£o Principal: http://localhost:8080

Widget de Chat: http://localhost:8080/chat.html

Console H2: http://localhost:8080/h2-console (JDBC URL: jdbc:h2:mem:testdb)


‚öôÔ∏è Configura√ß√£o
Configura√ß√µes da Aplica√ß√£o
application.properties

# Servidor
server.port=8080
server.servlet.context-path=/

# Banco de Dados H2
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.h2.console.enabled=true

# JPA
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true

# OpenRouter
openrouter.api.key=${OPENROUTER_API_KEY:default_key}
openrouter.model=${OPENROUTER_MODEL:openai/gpt-3.5-turbo}
openrouter.base.url=https://openrouter.ai/api/v1


Vari√°veis de Ambiente Suportadas
Vari√°vel	Descri√ß√£o	Valor Padr√£o
OPENROUTER_API_KEY	Chave de API do OpenRouter	Obrigat√≥ria
OPENROUTER_MODEL	Modelo de IA a ser utilizado	openai/gpt-3.5-turbo
SERVER_PORT	Porta da aplica√ß√£o	8080
SPRING_PROFILES_ACTIVE	Perfil ativo	dev


üîå API Reference
Endpoints Dispon√≠veis
POST /api/chat/question
Envia uma pergunta para o sistema de IA e retorna uma resposta contextualizada.

Content-Type: application/json

Request Body:

{
"question": "string - Pergunta do usu√°rio"
}

Response Body (Sucesso - 200 OK):

{
"answer": "string - Resposta gerada pela IA",
"timestamp": "string - Data e hora no formato ISO",
"question": "string - Pergunta original"
}

Response Body (Erro - 400 Bad Request):

{
"error": "string - Descri√ß√£o do erro",
"timestamp": "string - Data e hora do erro"
}

Exemplo de Uso:

curl -X POST "http://localhost:8080/api/chat/question" \
-H "Content-Type: application/json" \
-d '{"question": "Como redefinir minha senha?"}'


Resposta Esperada:

{
"answer": "Para redefinir sua senha, acesse a p√°gina de login e clique em 'Esqueci minha senha'. Voc√™ receber√° um email com instru√ß√µes para criar uma nova senha.",
"timestamp": "2024-01-15T10:30:00.000Z",
"question": "Como redefinir minha senha?"
}


C√≥digos de Status HTTP
C√≥digo	Situa√ß√£o	Descri√ß√£o
200	OK	Requisi√ß√£o processada com sucesso
400	Bad Request	Dados de entrada inv√°lidos
500	Internal Server Error	Erro interno do servidor


üß™ Testes
Execu√ß√£o dos Testes


# Executar todos os testes
./mvnw test

# Executar testes com relat√≥rio de cobertura
./mvnw test jacoco:report

# Executar testes espec√≠ficos
./mvnw test -Dtest=ChatControllerTest
./mvnw test -Dtest=*ServiceTest



Su√≠te de Testes
Testes Unit√°rios
Classe de Teste	Camada	Descri√ß√£o
InteractionLogTest	Model	Valida√ß√£o da entidade principal
InteractionServiceTest	Service	Teste da l√≥gica de neg√≥cio
AiServiceTest	Service	Teste da integra√ß√£o com IA


Testes de Integra√ß√£o
Classe de Teste	Camada	Descri√ß√£o
InteractionLogRepositoryTest	Repository	Teste de persist√™ncia no banco
ChatControllerTest	Controller	Teste de endpoints da API


Testes End-to-End (E2E)
Classe de Teste	Descri√ß√£o
ChatEndpointE2ETest	Teste completo do fluxo da aplica√ß√£o

Cobertura de Testes
Model: 100%

Service: 95%

Controller: 90%

Repository: 100%

Integra√ß√£o: 85%




üìö Base de Conhecimento
Estrutura do Arquivo
Localiza√ß√£o: src/main/resources/knowledge_base.json

[
{
"question": "string - Pergunta ou palavra-chave",
"answer": "string - Resposta correspondente"
}
]


Exemplo de Conte√∫do

[
{
"question": "redefinir senha",
"answer": "Para redefinir sua senha: 1) Acesse a p√°gina de login 2) Clique em 'Esqueci minha senha' 3) Informe seu email 4) Siga as instru√ß√µes no email recebido 5) Crie uma nova senha"
},
{
"question": "suporte t√©cnico",
"answer": "Nosso suporte t√©cnico est√° dispon√≠vel: Segunda a Sexta: 8h √†s 18h | S√°bado: 9h √†s 13h | Email: suporte@empresa.com | Telefone: (11) 1234-5678"
},
{
"question": "problema login",
"answer": "Se est√° com problemas para fazer login: 1) Verifique seu email e senha 2) Tente redefinir a senha 3) Limpe o cache do navegador 4) Tente outro navegador 5) Entre em contato com o suporte"
}
]



Adicionando Novo Conhecimento
Edite o arquivo knowledge_base.json

Adicione novas entradas no formato especificado

Reinicie a aplica√ß√£o (n√£o √© necess√°rio recompilar)


üåê Deploy
Ambiente de Produ√ß√£o
URL da Aplica√ß√£o: https://chat-ai-cliente.onrender.com/chat.html

Configura√ß√£o no Render.com
Build Settings
Build Command: ./mvnw clean install

Start Command: java -jar target/*.jar

Environment Variables


OPENROUTER_API_KEY=sua_chave_producao
OPENROUTER_MODEL=openai/gpt-3.5-turbo
SPRING_PROFILES_ACTIVE=prod
JAVA_VERSION=21


Deploy Manual
1. Prepara√ß√£o do Build

# Build para produ√ß√£o
./mvnw clean package -DskipTests -Pprod

# Verifique o JAR gerado
ls -la target/*.jar



Deploy em Servidor

# Copie o JAR para o servidor
scp target/atendimento-ai-mvp-1.0.0.jar usuario@servidor:/app/

# Execute no servidor
java -jar -Dspring.profiles.active=prod atendimento-ai-mvp-1.0.0.jar



üìÅ Estrutura do Projeto

atendimento-ai-mvp/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ com/codigoquatro/atendimento_ai/
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ AtendimentoAiApplication.java      # Classe principal
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ controller/
‚îÇ   ‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ ChatController.java            # Controlador REST
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ service/
‚îÇ   ‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ InteractionService.java        # Servi√ßo de neg√≥cio
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ InteractionLog.java            # Entidade JPA
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ repository/
‚îÇ   ‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ InteractionLogRepository.java  # Reposit√≥rio Spring Data
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ai/
‚îÇ   ‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ AiService.java                 # Servi√ßo de IA
‚îÇ   ‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ AiServiceSimulator.java        # Simulador para testes
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ AppConfig.java                 # Configura√ß√µes
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ resources/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ application.properties                 # Configura√ß√µes
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ knowledge_base.json                    # Base de conhecimento
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ static/
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ chat.html                          # Widget de chat
‚îÇ   ‚îî‚îÄ‚îÄ test/
‚îÇ       ‚îî‚îÄ‚îÄ java/
‚îÇ           ‚îî‚îÄ‚îÄ com/codigoquatro/atendimento_ai/
‚îÇ               ‚îú‚îÄ‚îÄ controller/
‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ ChatControllerTest.java        # Testes do controlador
‚îÇ               ‚îú‚îÄ‚îÄ service/
‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ InteractionServiceTest.java    # Testes do servi√ßo
‚îÇ               ‚îú‚îÄ‚îÄ repository/
‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ InteractionLogRepositoryTest.java # Testes do reposit√≥rio
‚îÇ               ‚îú‚îÄ‚îÄ model/
‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ InteractionLogTest.java        # Testes do modelo
‚îÇ               ‚îî‚îÄ‚îÄ ChatEndpointE2ETest.java           # Testes E2E
‚îú‚îÄ‚îÄ pom.xml                                           # Configura√ß√£o Maven
‚îú‚îÄ‚îÄ README.md                                         # Documenta√ß√£o
‚îî‚îÄ‚îÄ LICENSE                                           # Licen√ßa MIT



ü§ù Contribui√ß√£o
Processo de Contribui√ß√£o

# Fa√ßa fork no GitHub
# Clone seu fork
git clone https://github.com/seu-usuario/atendimento-ai-mvp.git
cd atendimento-ai-mvp


Cria√ß√£o de Branch

git checkout -b feature/nova-funcionalidade
# ou
git checkout -b fix/correcao-bug


Desenvolvimento

# Fa√ßa suas altera√ß√µes
# Adicione testes
# Atualize documenta√ß√£o



Commit e Push


git add .
git commit -m "feat: adiciona nova funcionalidade"
git push origin feature/nova-funcionalidade

Pull Request

Abra PR no reposit√≥rio original

Descreva as mudan√ßas

Referencie issues relacionadas

Conven√ß√µes
Commits
feat: Nova funcionalidade

fix: Corre√ß√£o de bug

docs: Documenta√ß√£o

test: Testes

refactor: Refatora√ß√£o de c√≥digo

style: Formata√ß√£o



C√≥digo
Siga o estilo Java convencional

Use nomes descritivos para vari√°veis e m√©todos

Documente classes e m√©todos complexos

Mantenha a cobertura de testes


Melhorias Planejadas
Fase 2 - Autentica√ß√£o e Dashboard
Sistema de autentica√ß√£o JWT

Dashboard administrativo

Gest√£o de usu√°rios

Relat√≥rios de uso



Fase 3 - Funcionalidades Avan√ßadas
Cache de respostas frequentes

Suporte a m√∫ltiplos idiomas

Integra√ß√£o com sistemas de tickets

An√°lise de sentimentos

Fase 4 - Escalabilidade
Banco de dados PostgreSQL

Cache Redis

Load balancing

Monitoramento e m√©tricas

Roadmap Detalhado
Fase	Funcionalidades	Estimativa
Fase 1 (MVP)	Funcionalidades atuais	‚úÖ Conclu√≠do
Fase 2	Auth + Dashboard	2-3 meses
Fase 3	Features avan√ßadas	3-4 meses
Fase 4	Escalabilidade	2-3 meses


‚ö†Ô∏è Avisos Importantes
Limita√ß√µes do MVP
Base de Conhecimento Est√°tica

Requer atualiza√ß√£o manual do arquivo JSON

N√£o possui interface de administra√ß√£o

Armazenamento Vol√°til

Banco H2 em mem√≥ria

Dados s√£o perdidos ao reiniciar a aplica√ß√£o

Seguran√ßa B√°sica

N√£o possui autentica√ß√£o

Rate limiting b√°sico

Valida√ß√£o de input m√≠nima

Escalabilidade

N√£o preparado para alta carga

Sem cache distribu√≠do

Monol√≠tico


Recomenda√ß√µes para Produ√ß√£o



# Migrar para PostgreSQL
spring.datasource.url=jdbc:postgresql://localhost:5432/atendimento_ai
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect


Seguran√ßa

Implementar Spring Security

Adicionar rate limiting

Configurar CORS adequadamente

Usar HTTPS



Monitoramento

Adicionar Spring Boot Actuator

Configurar m√©tricas e health checks

Implementar logging estruturado



üìÑ Licen√ßa
Este projeto est√° licenciado sob a MIT License - veja o arquivo LICENSE para detalhes.

MIT License

Copyright (c) 2024 CodigoQuatro Solu√ß√µes

Permiss√£o √© concedida, gratuitamente, a qualquer pessoa que obtenha uma c√≥pia
deste software e arquivos de documenta√ß√£o associados (o "Software"), para lidar
no Software sem restri√ß√£o, incluindo, sem limita√ß√£o, os direitos de usar, copiar,
modificar, fundir, publicar, distribuir, sublicenciar e/ou vender c√≥pias do
Software, e para permitir que as pessoas a quem o Software √© fornecido o fa√ßam...


Desenvolvido por CodigoQuatro Solu√ß√µes
Email: codigoquatro2022@gmail.com
Site: https://chat-ai-cliente.onrender.com
Reposit√≥rio: GitHub - atendimento-ai-mvp

Documenta√ß√£o atualizada em: Janeiro 2024





























































































































 













